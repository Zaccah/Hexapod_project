clear all
close all
clc

support_tj=[    9.7500   -4.5000   -1.0000
    9.7500   -4.4867   -1.0000
    9.7500   -4.4467   -1.0000
    9.7500   -4.3802   -1.0000
    9.7500   -4.2870   -1.0000
    9.7500   -4.1672   -1.0000
    9.7500   -4.0207   -1.0000
    9.7500   -3.8476   -1.0000
    9.7500   -3.6479   -1.0000
    9.7500   -3.4216   -1.0000
    9.7500   -3.1686   -1.0000
    9.7500   -2.8891   -1.0000
    9.7500   -2.5828   -1.0000
    9.7500   -2.2500   -1.0000
    9.7500   -1.9038   -1.0000
    9.7500   -1.5577   -1.0000
    9.7500   -1.2115   -1.0000
    9.7500   -0.8654   -1.0000
    9.7500   -0.5192   -1.0000
    9.7500   -0.1731   -1.0000
    9.7500    0.1731   -1.0000
    9.7500    0.5192   -1.0000
    9.7500    0.8654   -1.0000
    9.7500    1.2115   -1.0000
    9.7500    1.5577   -1.0000
    9.7500    1.9038   -1.0000
    9.7500    2.2500   -1.0000
    9.7500    2.5828   -1.0000
    9.7500    2.8891   -1.0000
    9.7500    3.1686   -1.0000
    9.7500    3.4216   -1.0000
    9.7500    3.6479   -1.0000
    9.7500    3.8476   -1.0000
    9.7500    4.0207   -1.0000
    9.7500    4.1672   -1.0000
    9.7500    4.2870   -1.0000
    9.7500    4.3802   -1.0000
    9.7500    4.4467   -1.0000
    9.7500    4.4867   -1.0000
    9.7500    4.5000   -1.0000
    9.7500    4.5000   -1.0000
    9.9287    4.6670   -0.8678
   ];
t1=[
    10.1098    4.8225   -0.7246
   10.2993    4.9591   -0.5707
   10.5030    5.0696   -0.4065
   10.7255    5.1471   -0.2323
   10.9704    5.1850   -0.0485
   11.2396    5.1770    0.1447
   11.5333    5.1171    0.3467
   11.8498    5.0000    0.5571
   12.1852    4.8207    0.7756
   12.5339    4.5755    1.0016
   12.8883    4.2620    1.2348
   13.2392    3.8793    1.4746
   13.5767    3.4286    1.7205
   13.8899    2.9133    1.9721
   14.1684    2.3391    2.2287
   14.4024    1.7140    2.4900
   14.5835    1.0483    2.7553
   14.7054    0.3539    3.0241
   14.7054   -0.3539    3.0241
   14.5835   -1.0483    2.7553
   14.4024   -1.7140    2.4900
   14.1684   -2.3391    2.2287
   13.8899   -2.9133    1.9721
   13.5767   -3.4286    1.7205
   13.2392   -3.8793    1.4746
   12.8883   -4.2620    1.2348
   12.5339   -4.5755    1.0016
   12.1852   -4.8207    0.7756
   11.8498   -5.0000    0.5571
   11.5333   -5.1171    0.3467
   11.2396   -5.1770    0.1447
   10.9704   -5.1850   -0.0485
   10.7255   -5.1471   -0.2323
   10.5030   -5.0696   -0.4065
   10.2993   -4.9591   -0.5707
   10.1098   -4.8225   -0.7246
    9.9287   -4.6670   -0.8678
    9.7500   -4.5000   -1.0000];

positioning_traj=[
    9.7500    0.0000   -1.0000
    9.7563    0.0024   -0.9998
    9.7961    0.0180   -0.9980
    9.8922    0.0568   -0.9928
   10.0562    0.1272   -0.9802
   10.2895    0.2366   -0.9540
   10.5841    0.3915   -0.9062
   10.9240    0.5960   -0.8286
   11.2880    0.8502   -0.7153
   11.6518    1.1482   -0.5644
   11.9928    1.4779   -0.3796
   12.2925    1.8218   -0.1705
   12.5397    2.1593    0.0490
   12.7311    2.4697    0.2622
   12.8697    2.7352    0.4529
   12.9632    2.9434    0.6076
   13.0209    3.0887    0.7184
   13.0517    3.1735    0.7840
   13.0638    3.2085    0.8114
   13.0656    3.2140    0.8157
   13.0656    3.2140    0.8157
   13.0619    3.2173    0.8126
   13.0380    3.2381    0.7932
   12.9797    3.2877    0.7463
   12.8776    3.3710    0.6664
   12.7267    3.4867    0.5528
   12.5257    3.6278    0.4091
   12.2772    3.7837    0.2421
   11.9880    3.9418    0.0609
   11.6691    4.0899   -0.1247
   11.3348    4.2182   -0.3052
   11.0015    4.3208   -0.4721
   10.6861    4.3958   -0.6192
   10.4041    4.4455   -0.7425
   10.1677    4.4749   -0.8400
    9.9849    4.4901   -0.9119
    9.8584    4.4968   -0.9600
    9.7850    4.4992   -0.9872
    9.7548    4.4999   -0.9983
    9.7500    4.5000   -1.0000
    9.7500    0.0000   -1.0000
    9.7563   -0.0024   -0.9998
    9.7961   -0.0180   -0.9980
    9.8922   -0.0568   -0.9928
   ];
    
t2=[
    10.0562   -0.1272   -0.9802
   10.2895   -0.2366   -0.9540
   10.5841   -0.3915   -0.9062
   10.9240   -0.5960   -0.8286
   11.2880   -0.8502   -0.7153
   11.6518   -1.1482   -0.5644
   11.9928   -1.4779   -0.3796
   12.2925   -1.8218   -0.1705
   12.5397   -2.1593    0.0490
   12.7311   -2.4697    0.2622
   12.8697   -2.7352    0.4529
   12.9632   -2.9434    0.6076
   13.0209   -3.0887    0.7184
   13.0517   -3.1735    0.7840
   13.0638   -3.2085    0.8114
   13.0656   -3.2140    0.8157
   13.0656   -3.2140    0.8157
   13.0619   -3.2173    0.8126
   13.0380   -3.2381    0.7932
   12.9797   -3.2877    0.7463
   12.8776   -3.3710    0.6664
   12.7267   -3.4867    0.5528
   12.5257   -3.6278    0.4091
   12.2772   -3.7837    0.2421
   11.9880   -3.9418    0.0609
   11.6691   -4.0899   -0.1247
   11.3348   -4.2182   -0.3052
   11.0015   -4.3208   -0.4721
   10.6861   -4.3958   -0.6192
   10.4041   -4.4455   -0.7425
   10.1677   -4.4749   -0.8400
    9.9849   -4.4901   -0.9119
    9.8584   -4.4968   -0.9600
    9.7850   -4.4992   -0.9872
    9.7548   -4.4999   -0.9983
    9.7500   -4.5000   -1.0000];


figure,grid,hold
axis square
axis([4 17 -7 7 0 8])
xlabel('x [cm]')
ylabel('y [cm]')
zlabel('z [cm]')
plot3(positioning_traj(:,1),positioning_traj(:,2), 1+positioning_traj(:,3), '-.r', 'Linewidth', 1)
plot3(support_tj(:,1),support_tj(:,2), 1+support_tj(:,3), 'k', 'Linewidth', 1)
plot3(t1(:,1),t1(:,2), 1+t1(:,3), '-.b', 'Linewidth', 1)
plot3(t2(:,1),t2(:,2), 1+t2(:,3), '-.', 'Linewidth', 1, 'Color', [0 153/255 0])

plot3(9.7500 ,  -4.5000 ,  0, 'ko')
text(9.7500-2 ,  -4.5000+0.2 ,  0.2, 'P_1')
plot3(9.7500,  4.5000 ,  0, 'ko')
text(9.7500-2 ,  +4.5000+0.2 ,  0.2, 'P_0')
plot3(9.7500   , 0.0000  , 0, 'ko')
text(9.7500-2 ,  0+0.2 ,  0.2, 'P_{stable}')

legend('Return trajectory', 'Positioning trajectory', 'Support trajectory', 'Stabilize trajectory')
